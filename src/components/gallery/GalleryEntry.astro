---
interface Props {
    src: string;
    alt: string;
    description: string;
    caption?: string;
    class?: string;
}

import {Image} from "astro:assets";
import getImageMetadata from "../../scripts/getImageMetadata";


const { src, alt, description, caption = null, class:className, ...rest } = Astro.props;
const resolvedCaption = caption ?? alt;
---
<div class="cursor-pointer"
     data-src={src}
     data-alt={alt}
     data-description={description}
     data-caption={caption}
     data-gallery-entry>
    <Image src={getImageMetadata(src)}
           alt={alt}
           title={alt}
           class=`lightbox-image ${className}`
           {...rest} />
    <!--{ resolvedCaption != null && resolvedCaption.length > 0 &&-->
    <!--        <div class="lightbox-caption">-->
    <!--            {resolvedCaption.trim()}-->
    <!--        </div>-->
    <!--}-->
</div>
